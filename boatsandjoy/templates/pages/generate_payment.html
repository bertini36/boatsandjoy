{% load static i18n %}

<script src="{% static 'js/libs/axios.min.js' %}"></script>
<script src="https://js.stripe.com/v3/"></script>

<script type="application/javascript">

    redirect("{{ STRIPE_API_KEY }}", "{{ session_id }}");

    function redirect(stripe_api_key, session_id) {
        let stripe = Stripe(stripe_api_key);
        stripe.redirectToCheckout({
            sessionId: session_id
        }).then(function (result) {
            utils.show_notification(
                "error",
                "{% trans 'It seems that there was an error redirecting to the payment gateway' %}"
            );
        });
    }

</script>

